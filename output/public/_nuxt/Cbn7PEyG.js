import{F as h,G as k,s as u,aa as S,c as p,a as s,H as C,A as o,O as _,t as m,ab as A,I as g,J as b,K as v,o as x,a6 as E}from"./BDsbcn7e.js";import{u as U}from"./DmQWCTK9.js";const j={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},V={class:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg"},B={class:"mt-8 space-y-6"},I={class:"space-y-4"},N={class:"mt-1"},D={class:"mt-1"},O=["disabled"],P={class:"text-center"},R={class:"space-y-4"},z=h({__name:"login",setup(T){const c=U(),w=k(),n=u(""),l=u(""),d=u(!1),i=u(!1),a=u(""),y=async()=>{d.value=!0,a.value="";try{if(i.value){const{data:t,error:e}=await c.auth.signUp({email:n.value,password:l.value});if(e)throw e;console.log("SignUp Data:",t),t.user&&!t.session?a.value="Registration successful! Please check your email to confirm your account.":t.session&&(a.value="Registration successful! You are logged in.")}else{const{error:t}=await c.auth.signInWithPassword({email:n.value,password:l.value});if(t)throw t}}catch(t){console.error("Auth Error:",t),a.value="Error: "+t.message}finally{d.value=!1}},f=async t=>{const{error:e}=await c.auth.signInWithOAuth({provider:t,options:{redirectTo:window.location.origin}});e&&console.error(e)};return S(()=>{if(w.value)return E("/")}),(t,e)=>(x(),p("div",j,[s("div",V,[e[8]||(e[8]=s("div",{class:"text-center"},[s("h2",{class:"mt-6 text-3xl font-extrabold text-gray-900"},"Family Budget"),s("p",{class:"mt-2 text-sm text-gray-600"},"Sign in to manage your expenses")],-1)),o(a)?(x(),p("div",{key:0,class:_(["p-4 rounded-md",o(a).includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"])},m(o(a)),3)):C("",!0),s("div",B,[s("div",I,[s("div",null,[e[5]||(e[5]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1)),s("div",N,[g(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>v(n)?n.value=r:null),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[b,o(n)]])])]),s("div",null,[e[6]||(e[6]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),s("div",D,[g(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>v(l)?l.value=r:null),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[b,o(l)]])])]),s("button",{onClick:y,disabled:o(d),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},m(o(d)?"Loading...":o(i)?"Create Account":"Sign In"),9,O),s("div",P,[s("button",{onClick:e[2]||(e[2]=r=>i.value=!o(i)),class:"text-sm text-blue-600 hover:text-blue-500"},m(o(i)?"Already have an account? Sign in":"Need an account? Sign up"),1)])]),e[7]||(e[7]=A('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or continue with</span></div></div>',1)),s("div",R,[s("button",{onClick:e[3]||(e[3]=r=>f("google")),class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"}," Sign in with Google "),s("button",{onClick:e[4]||(e[4]=r=>f("azure")),class:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Sign in with Microsoft ")])])])]))}});export{z as default};
